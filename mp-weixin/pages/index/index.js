(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"2c83":function(n,e,t){},8069:function(n,e,t){"use strict";t.r(e);var i=t("da67"),a=t.n(i);for(var c in i)"default"!==c&&function(n){t.d(e,n,(function(){return i[n]}))}(c);e["default"]=a.a},a127:function(n,e,t){"use strict";var i=t("2c83"),a=t.n(i);a.a},d537:function(n,e,t){"use strict";(function(n){t("6cdc"),t("921b");i(t("66fd"));var e=i(t("f75a"));function i(n){return n&&n.__esModule?n:{default:n}}n(e.default)}).call(this,t("543d")["createPage"])},da67:function(n,e,t){"use strict";(function(n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=c(t("a34a")),a=c(t("2971"));function c(n){return n&&n.__esModule?n:{default:n}}function r(n,e,t,i,a,c,r){try{var o=n[c](r),u=o.value}catch(s){return void t(s)}o.done?e(u):Promise.resolve(u).then(i,a)}function o(n){return function(){var e=this,t=arguments;return new Promise((function(i,a){var c=n.apply(e,t);function o(n){r(c,i,a,o,u,"next",n)}function u(n){r(c,i,a,o,u,"throw",n)}o(void 0)}))}}t("651d");var u=function(){return Promise.all([t.e("common/vendor"),t.e("components/uni-ui/lib/uni-icons/uni-icons")]).then(t.bind(null,"b704b"))},s={components:{uniIcons:u},data:function(){return{options2:{effect:"flip",loop:!0},options3:{effect:"cube",loop:!0,cubeEffect:{shadow:!0,slideShadows:!0,shadowOffset:20,shadowScale:.94}},rows:2,column:4,iconArr:["cuIcon-same","cuIcon-deliver","cuIcon-evaluate","cuIcon-shop","cuIcon-ticket","cuIcon-cascades","cuIcon-discover","cuIcon-question","cuIcon-pic","cuIcon-filter","cuIcon-footprint","cuIcon-pulldown","cuIcon-pullup","cuIcon-moreandroid","cuIcon-refund","cuIcon-qrcode","cuIcon-remind","cuIcon-profile","cuIcon-home","cuIcon-message","cuIcon-link","cuIcon-lock","cuIcon-unlock","cuIcon-vip","cuIcon-weibo","cuIcon-activity","cuIcon-friendadd","cuIcon-friendfamous","cuIcon-friend","cuIcon-goods","cuIcon-selection"],role:"",menuList:[],swiperMenuList:[],user:{},tableName:"",btnColor:["#409eff","#67c23a","#909399","#e6a23c","#f56c6c","#356c6c","#351c6c","#f093a9","#a7c23a","#104eff","#10441f","#a21233","#503319"],queryList:[{queryName:"电影名称"}],queryIndex:0,searchForm:{remendianyingdianyingmingcheng:""},CustomBar:"0",swiperList:[],remendianyinglist:[],homedianyingyuanlist:[],news:[]}},computed:{baseUrl:function(){return this.$base.url}},onLoad:function(){var e=o(i.default.mark((function e(){var t,c,r,o=this;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.role=n.getStorageSync("role"),t=n.getStorageSync("nowTable"),e.next=4,this.$api.session(t);case 4:c=e.sent,this.user=c.data,this.tableName=t,r=a.default.list(),this.menuList=r,this.menuList.forEach((function(n,e){o.role==n.roleName&&n.frontMenu.forEach((function(n,e){n.child[0].buttons.indexOf("查看")>-1&&o.swiperMenuList.push(n)}))}));case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onShow:function(){var e=o(i.default.mark((function e(){var t,a,c,r,o,u,s,l;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.btnColor=this.btnColor.sort((function(){return.5-Math.random()})),a=[],e.next=4,this.$api.page("config",{page:1,limit:5});case 4:for(t=e.sent,c=!0,r=!1,o=void 0,e.prev=8,u=t.data.list[Symbol.iterator]();!(c=(s=u.next()).done);c=!0)l=s.value,l.name.indexOf("picture")>=0&&l.value&&""!=l.value&&null!=l.value&&a.push({img:l.value,title:l.name});e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](8),r=!0,o=e.t0;case 16:e.prev=16,e.prev=17,c||null==u.return||u.return();case 19:if(e.prev=19,!r){e.next=22;break}throw o;case 22:return e.finish(19);case 23:return e.finish(16);case 24:return a&&(this.swiperList=a),e.next=27,this.$api.list("news",{page:1,limit:6});case 27:if(t=e.sent,this.news=t.data.list,null===n.getStorageSync("userid")){e.next=35;break}return e.next=32,this.$api.recommend2("remendianying",{page:1,limit:4});case 32:t=e.sent,e.next=38;break;case 35:return e.next=37,this.$api.recommend("remendianying",{page:1,limit:4});case 37:t=e.sent;case 38:return this.remendianyinglist=t.data.list,e.next=41,this.$api.list("dianyingyuan",{page:1,limit:4});case 41:t=e.sent,this.homedianyingyuanlist=t.data.list;case 43:case"end":return e.stop()}}),e,this,[[8,12,16,24],[17,,19,23]])})));function t(){return e.apply(this,arguments)}return t}(),methods:{queryChange:function(n){this.queryIndex=n.detail.value,this.searchForm.remendianyingdianyingmingcheng=""},onSwiperTap:function(n){},onNewsDetailTap:function(n){this.$utils.jump("../news-detail/news-detail?id=".concat(n))},onDetailTap:function(n,e){this.$utils.jump("../".concat(n,"/detail?id=").concat(e))},onPageTap:function(e){0==this.queryIndex&&(n.setStorageSync("indexQueryCondition",this.searchForm.remendianyingdianyingmingcheng),this.searchForm.remendianyingdianyingmingcheng=""),n.navigateTo({url:"../".concat(e,"/list"),fail:function(){n.switchTab({url:"../".concat(e,"/list")})}})},onPageTap2:function(e){n.setStorageSync("useridTag",0),n.navigateTo({url:e,fail:function(){n.switchTab({url:e})}})}}};e.default=s}).call(this,t("543d")["default"])},e4ef:function(n,e,t){"use strict";var i,a=function(){var n=this,e=n.$createElement,t=(n._self._c,n.__map(n.menuList,(function(e,t){var i=n.__map(e.frontMenu,(function(e,t){var i=n.__map(e.child,(function(e,t){var i=e.menu.split("列表");return{$orig:n.__get_orig(e),g0:i}}));return{$orig:n.__get_orig(e),l0:i}}));return{$orig:n.__get_orig(e),l1:i}}))),i=n.__map(n.remendianyinglist,(function(e,t){var i=e.haibao.substring(0,4),a=e.haibao.split(",");return{$orig:n.__get_orig(e),g1:i,g2:a}})),a=n.__map(n.homedianyingyuanlist,(function(e,t){var i=e.tupian.substring(0,4),a=e.tupian.split(",");return{$orig:n.__get_orig(e),g3:i,g4:a}}));n.$mp.data=Object.assign({},{$root:{l2:t,l3:i,l4:a}})},c=[];t.d(e,"b",(function(){return a})),t.d(e,"c",(function(){return c})),t.d(e,"a",(function(){return i}))},f75a:function(n,e,t){"use strict";t.r(e);var i=t("e4ef"),a=t("8069");for(var c in a)"default"!==c&&function(n){t.d(e,n,(function(){return a[n]}))}(c);t("a127");var r,o=t("f0c5"),u=Object(o["a"])(a["default"],i["b"],i["c"],!1,null,"7eef3678",null,!1,i["a"],r);e["default"]=u.exports}},[["d537","common/runtime","common/vendor"]]]);